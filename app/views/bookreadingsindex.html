<link href="css/mainpage.css" rel="stylesheet" />

<div class="container" ng-controller="mainPageController" style="background-color:#FFFFFF;">
	<div class="col-sm-2" style='font-size:20px;margin-top:10px;'>
		<div class="row">
			<div class="col-xs-12">
				<div>
					<h1 style='font-size:20px;padding-left:5px;margin-bottom:5px;margin-top:0px;font-weight:200;'><a href="/#/featured">Featured</a></span>
				</div>
				<div>
					<h1 style='font-size:20px;padding-left:5px;margin-bottom:5px;margin-top:0px;font-weight:200;'><a href="/#/recent/">Most Recent</a></span>
				</div>
				<div>
					<h1 style='font-size:20px;padding-left:5px;margin:0px;margin-top:0px;font-weight:200;margin-bottom:5px;'><a href="/#/popular">Most Popular</a></h1>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-12 col-sm-10" style='margin-top:10px;'>
		<div ng-repeat="reading in readings track by reading.$id">
			<div class="row" ng-if="reading.cover_image_url" ng-style="{'background-image':'url({{reading.cover_image_url}}/convert?w=950&h=300&fit=crop&align=top)'}" style='height:300px;background-repeat:no-repeat;background-size:cover;margin-bottom:10px;'>
				<div class="col-xs-12" style='padding-left:0px;'>
			        <div class="media" >
					    <div class="ui360 ui360reading" ng-click="readingPlayed(reading.$id, rreading.readingsByMostPlayedId)">
					     	<a ng-href="{{S3ReadingsPath}}{{reading.audio_key}}?s={{randomAudioPlayerValue}}" class="norewrite exclude button-exclude inline-exclude"></a>
					    </div>
						<div class='media-body' style="overflow:hidden;">
							<div class="row">
								<div class="col-xs-9" style='padding-right:0px;'>
									<div class="userCreated">
										<a ng-href="/#/reading/{{reading.$id}}/{{reading.slug}}/">{{reading.created_by_name}} <span ng-if="readingProperties[reading.$id].timesince">- {{readingProperties[reading.$id].timesince}}</span></a>
									</div>
								</div>
								<div class="col-xs-3" style='text-align:right;'>
									<div style='margin-top:17px;'>
										<button ng-show="loginObj.user" type="button" class="btn btn-default btn-xs" ng-click="likeReading(reading.$id)" ng-class="{ 'active' : readingProperties[reading.$id].reading_liked }">
											<span class="glyphicon glyphicon-heart" ng-class="{ 'red' : readingProperties[reading.$id].reading_liked }"></span>
										</button>
										<a role="button" ng-show="reading.purchaseLink" target="_blank" href="{{reading.purchaseLink}}" class="btn btn-default btn-xs">
											<span class="glyphicon glyphicon-fire"></span>
										</a>
										<a ng-href="{{audio_link}}" download="{{reading.audio_filename}}" role="button" class="btn btn-default btn-xs">
											<span class="glyphicon glyphicon-save"></span>
										</a>
									</div>
								</div>
							</div>
					    	<div class="readingTitle">
					    		<a ng-href="/#/reading/{{reading.$id}}/{{reading.slug}}/">{{reading.title}}</a>
						    </div>
						    <div style='margin-top:3px;'>
								<a ng-repeat="tag in reading.tags" href="/#/search/{{tag}}/" type="button" class="btn btn-xs" style="margin-right:4px;background-color:black;color:#999;">
									#{{tag}}
								</a>
						    </div>
						    <!--
						    <div style='color:white;margin-top:7px;'>
								<span style="background-color:black;padding:3px;"><span class="glyphicon glyphicon-play"></span>  {{ reading.play_count }}  | <span class="glyphicon glyphicon-heart"></span>  {{reading.like_count}} | <span class="glyphicon glyphicon-comment"></span>  {{reading.comment_count}}</span>
							</div> -->
						    <!--
						    <div style='margin-top:7px;'>
								<button ng-show="loginObj.user" type="button" class="btn btn-default btn-xs" ng-click="likeReading(reading.$id)" ng-class="{ 'active' : readingProperties[reading.$id].reading_liked }">
									<span class="glyphicon glyphicon-heart" ng-class="{ 'red' : readingProperties[reading.$id].reading_liked }"></span> <span ng-if="readingProperties[reading.$id].like_text">{{ readingProperties[reading.$id].like_text }}</span><span ng-if="!readingProperties[reading.$id].like_text">Like</span>
								</button>
								<a role="button" ng-show="reading.purchaseLink" target="_blank" href="{{reading.purchaseLink}}" class="btn btn-default btn-xs">
									<span class="glyphicon glyphicon-fire"></span> Buy Book
								</a>
								<a ng-href="{{audio_link}}" download="{{reading.audio_filename}}" role="button" class="btn btn-default btn-xs">
									<span class="glyphicon glyphicon-save"></span> Download
								</a>
							</div> -->
				        </div>
				    </div>
			     </div>
			</div>
			<div style='position:relative'>
				<div style="position:absolute; bottom:15px;right:0;color:white;">
					bookreadin.gs
				</div>
			</div>
			<div style='position:relative'>
				<div style="position:absolute; bottom:17px;left:0;color:white;background-color:black;font-size:12px;">
					<span style="background-color:black;padding:3px;"><span class="glyphicon glyphicon-play"></span> &nbsp;{{ reading.play_count }}  | &nbsp;<span class="glyphicon glyphicon-heart"></span> &nbsp;{{reading.like_count}} | &nbsp;<span class="glyphicon glyphicon-comment"></span> &nbsp;{{reading.comment_count}}</span>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="controllers/mainpage.js"></script>
